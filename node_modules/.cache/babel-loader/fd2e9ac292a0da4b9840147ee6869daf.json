{"ast":null,"code":"var _jsxFileName = \"/home/deepak/Documents/dk/library-Management-System-HeadX/src/container/books.js\";\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { Empty } from 'antd';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { libraryManagementAction } from '../store/home/actions';\nimport Searchbar from '../components/UiSearch/index';\nimport utils from '../utils/index';\nimport '../styles/index.css';\nimport 'antd/dist/antd.css';\n\nconst booksList = props => {\n  const dispatch = useDispatch();\n  const loader = useSelector(state => {\n    return state.libraryManagement.loading;\n  });\n  const libraryData = useSelector(state => {\n    return state.libraryManagement.libraryData;\n  });\n  const [state, setState] = React.useState([]);\n  const [myBooks, setMyBooks] = React.useState([]);\n  const [bookAdded, setBookAdded] = React.useState(false);\n  useEffect(() => {\n    dispatch(libraryManagementAction.fetchBooksDataRequest()); // eslint-disable-next-line\n  }, []);\n  const [search, setSearchState] = React.useState({\n    searchText: \"\"\n  });\n  useEffect(() => {\n    setState(libraryData && libraryData.items);\n  }, [libraryData]);\n  let {\n    searchText\n  } = search;\n\n  const bookSearchHandler = e => {\n    setSearchState(e.target.value);\n    const text = e.target.value;\n    const searchText = text.toLowerCase();\n    const data = !!state && Array.isArray(state) && state.length > 0 && state.filter(data => data.volumeInfo.title.toLowerCase().includes(searchText) || data.key.toString().includes(searchText));\n    searchText !== '' ? setState(data) : setState(libraryData && libraryData.items);\n  };\n\n  const getBooks = key => {\n    const bookDetails = state.filter(data => data.key.toString().includes(key));\n    myBooks.push(bookDetails);\n    const length = myBooks.length;\n    const borrowedBooks = length === 3 ? myBooks.splice(1, length) : myBooks;\n    const params = {\n      data: borrowedBooks\n    };\n    dispatch(libraryManagementAction.addBooksBorrowedRequest(params));\n    setBookAdded(true);\n  };\n\n  const getBookDetails = key => {\n    props.history.push({\n      pathname: 'bookDetails',\n      state: key\n    });\n  };\n\n  const myCart = () => {\n    props.history.push({\n      pathname: '/my-book-list'\n    });\n  };\n\n  const myLibrary = () => {\n    props.history.push({\n      pathname: '/'\n    });\n  };\n\n  const onConfirm = () => {\n    setBookAdded(false);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"text-hn-orange items-center justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-3xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Library Management System\"), ' ', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myCart items-start width50 ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn_Button btnPreview\",\n    onClick: () => myLibrary(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Go To Library\"), ' '), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myCart items-end width50 mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn_Button btn-cart\",\n    onClick: () => myCart(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \" My Book Cart\"), ' ')), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"border mtl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Searchbar, {\n    bookSearchHandler: bookSearchHandler,\n    searchBar: searchText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    md: 12,\n    className: \"p-4 inFlex parent marginBooks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, loader ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinnerName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spinner-b\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  })) : !!state && Array.isArray(state) && state.length > 0 ? state.map((book, index) => /*#__PURE__*/React.createElement(Col, {\n    lg: 4,\n    md: 4,\n    key: index,\n    className: \"BookShell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    md: 6,\n    className: \"width50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: book.volumeInfo.imageLinks.thumbnail,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    md: 6,\n    className: \"width50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, \"BookNumber: \", book.key, \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \"Name: \", book.volumeInfo.title, \" \"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"Publisher: \", !!book.volumeInfo.publisher ? book.volumeInfo.publisher : 'NA' + ' ' + book.volumeInfo.publishedDate, \" \"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"Category: \", book.volumeInfo.categories, \" \"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Description: \", utils.limitText(!!book.volumeInfo.description ? book.volumeInfo.description : book.volumeInfo.subtitle, 100)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn_Button btnPreview\",\n    onClick: () => getBookDetails(book.key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Preview\"), ' ', /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn_Button btnBorrow\",\n    onClick: () => getBooks(book.key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, \"Borrow\"), ' '))) : /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    md: 12,\n    className: \"p-4 inFlex parent marginAuto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Empty, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(SweetAlert, {\n    title: \"Book Added to Cart\",\n    show: bookAdded,\n    onConfirm: onConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }));\n};\n\nbooksList.propTypes = {};\nexport default booksList;","map":{"version":3,"sources":["/home/deepak/Documents/dk/library-Management-System-HeadX/src/container/books.js"],"names":["React","useState","useEffect","useCallback","PropTypes","useDispatch","useSelector","Container","Col","Row","Empty","SweetAlert","libraryManagementAction","Searchbar","utils","booksList","props","dispatch","loader","state","libraryManagement","loading","libraryData","setState","myBooks","setMyBooks","bookAdded","setBookAdded","fetchBooksDataRequest","search","setSearchState","searchText","items","bookSearchHandler","e","target","value","text","toLowerCase","data","Array","isArray","length","filter","volumeInfo","title","includes","key","toString","getBooks","bookDetails","push","borrowedBooks","splice","params","addBooksBorrowedRequest","getBookDetails","history","pathname","myCart","myLibrary","onConfirm","map","book","index","imageLinks","thumbnail","publisher","publishedDate","categories","limitText","description","subtitle","propTypes"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { Empty } from 'antd';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { libraryManagementAction } from '../store/home/actions';\nimport Searchbar from '../components/UiSearch/index';\nimport utils from '../utils/index';\nimport '../styles/index.css';\nimport 'antd/dist/antd.css'\n\nconst booksList = (props) => {\n  const dispatch = useDispatch();\n  const loader = useSelector((state) => {\n    return state.libraryManagement.loading;\n  });\n\n  const libraryData = useSelector((state) => {\n    return state.libraryManagement.libraryData;\n  });\n\n  const [state, setState] = React.useState([]);\n  const [myBooks, setMyBooks] = React.useState([]);\n  const [bookAdded, setBookAdded] = React.useState(false);\n\n  useEffect(() => {\n    dispatch(libraryManagementAction.fetchBooksDataRequest());\n    // eslint-disable-next-line\n  }, []);\n\n  const [search, setSearchState] = React.useState({\n    searchText: \"\",\n  });\n\n  useEffect(() => {\n    setState(\n      libraryData && libraryData.items\n    )\n  }, [libraryData]);\n\n  let { searchText } = search;\n\n  const bookSearchHandler = (e) => {\n    setSearchState(e.target.value);\n    const text = e.target.value;\n    const searchText = text.toLowerCase();\n    const data =\n      !!state &&\n      Array.isArray(state) &&\n      state.length > 0 &&\n      state.filter(data =>\n        data.volumeInfo.title.toLowerCase().includes(searchText) ||\n        data.key.toString().includes(searchText)\n      );\n    searchText !== '' ? setState(data) : setState(libraryData && libraryData.items);\n  }\n\n  const getBooks = (key) => {\n    const bookDetails = state.filter(data =>\n      data.key.toString().includes(key)\n    );\n    myBooks.push(bookDetails);\n    const length = myBooks.length;\n    const borrowedBooks = length === 3 ? myBooks.splice(1, length) : myBooks;\n    const params = { data: borrowedBooks }\n    dispatch(libraryManagementAction.addBooksBorrowedRequest(params));\n    setBookAdded(true);\n  };\n\n  const getBookDetails = (key) => {\n    props.history.push({\n      pathname: 'bookDetails',\n      state: key,\n    })\n  };\n\n  const myCart = () => {\n    props.history.push({\n      pathname: '/my-book-list',\n    })\n  };\n\n  const myLibrary = () =>{\n    props.history.push({\n      pathname: '/',\n    })\n  }\n\n  const onConfirm = () =>{\n    setBookAdded(false);\n  }\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col lg={12}>\n          <Col className=\"text-hn-orange items-center justify-between\">\n            <h1 className=\"text-3xl\">Library Management System</h1>{' '}\n            <div className=\"flex flex-row\">\n              <div className=\"myCart items-start width50 ml-1\">\n                <button  className=\"btn_Button btnPreview\" onClick={() => myLibrary()}>Go To Library</button>{' '}\n              </div>\n              <div className=\"myCart items-end width50 mr-1\">\n                <button  className=\"btn_Button btn-cart\" onClick={() => myCart()}> My Book Cart</button>{' '}\n              </div>\n            </div>\n            <hr className=\"border mtl-6\"></hr>\n            <Searchbar bookSearchHandler={bookSearchHandler} searchBar={searchText} />\n          </Col>\n          <Col lg={12} md={12} className=\"p-4 inFlex parent marginBooks\" >\n            {\n              loader ? (\n                <div className=\"spinnerName\">\n                  <span className=\"spinner-b\" />\n                </div>\n              ) :\n                !!state &&\n                  Array.isArray(state) &&\n                  state.length > 0 ?\n                  state.map((book, index) => (\n                    <Col lg={4} md={4} key={index} className=\"BookShell\">\n                      <Col lg={6} md={6} className=\"width50\">\n                        <img src={book.volumeInfo.imageLinks.thumbnail} alt=\"\" />\n                      </Col>\n                      <Col lg={6} md={6} className=\"width50\">\n                        <h4>BookNumber: {book.key} </h4>\n                        <h4>Name: {book.volumeInfo.title} </h4>\n                        <h5>Publisher: {!!book.volumeInfo.publisher ? book.volumeInfo.publisher : 'NA' + ' ' + book.volumeInfo.publishedDate} </h5>\n                        <h5>Category: {book.volumeInfo.categories} </h5>\n                        <h5>Description: {utils.limitText(!!book.volumeInfo.description ? book.volumeInfo.description : book.volumeInfo.subtitle, 100)}</h5>\n                        <button  className=\"btn_Button btnPreview\" onClick={() => getBookDetails(book.key)}>Preview</button>{' '}\n                        <button  className=\"btn_Button btnBorrow\" onClick={() => getBooks(book.key)}>Borrow</button>{' '}\n                      </Col>\n                    </Col>\n                  )\n                  )\n                  :\n                  (\n                    <Col lg={12} md={12} className=\"p-4 inFlex parent marginAuto\" >\n                      <Empty />\n                    </Col>\n                  )\n            }\n          </Col>\n        </Col>\n      </Row>\n      <SweetAlert\n          title={\"Book Added to Cart\"}\n          show={bookAdded}\n          onConfirm={onConfirm}\n      >\n      </SweetAlert>\n    </Container>\n  );\n};\n\nbooksList.propTypes = {\n\n};\n\nexport default booksList;\n"]},"metadata":{},"sourceType":"module"}