{"ast":null,"code":"import { call, all, put, takeLatest } from 'redux-saga/effects';\nimport api from '../../services/index';\nimport { libraryManagementAction } from './actions';\n\nfunction* handleFetchBookList(requets) {\n  const {\n    payload\n  } = requets;\n\n  try {\n    const response = yield call(api.getBooks, payload);\n    yield put(libraryManagementAction.fetchBooksDataSuccess(response.data));\n  } catch (error) {\n    yield put(libraryManagementAction.fetchBooksDataError(error));\n  }\n}\n\nfunction* handlefetchBookDetails(requets) {\n  const {\n    payload\n  } = requets;\n\n  try {\n    yield put(libraryManagementAction.fetchBookDetailsSuccess(payload));\n  } catch (err) {\n    yield put(libraryManagementAction.fetchBookDetailsError(err));\n  }\n}\n\nfunction* addBooksBorrowedRequest(requets) {\n  const {\n    payload\n  } = requets;\n\n  try {\n    yield put(libraryManagementAction.addBooksBorrowedSuccess(payload.data));\n  } catch (err) {\n    yield put(libraryManagementAction.addBooksBorrowedError(err));\n  }\n}\n\nfunction* handleUserBorrowedBooksList() {\n  try {\n    yield put(libraryManagementAction.userBorrowedBooksListSuccess());\n  } catch (err) {\n    yield put(libraryManagementAction.userBorrowedBooksListError(err));\n  }\n}\n\nit('should fail if not authenticated', () => {\n  const gen = handleFetchBookList();\n  expect(gen.next().value).toEqual(libraryManagementAction.fetchBooksDataSuccess());\n  expect(gen.next(false).value).toEqual(put(libraryManagementAction.fetchBooksDataError()));\n  expect(gen.next().done).toBeTruthy();\n});\nexport function* libraryManagementSagas() {\n  yield all([yield takeLatest(libraryManagementAction.FETCH_BOOKS_DATA_REQUEST, handleFetchBookList), yield takeLatest(libraryManagementAction.FETCH_BOOKS_DETAILS_REQUEST, handlefetchBookDetails), yield takeLatest(libraryManagementAction.ADD_BOOKS_BORROWED_REQUEST, addBooksBorrowedRequest), yield takeLatest(libraryManagementAction.USER_BORROWED_BOOKS_LIST_REQUEST, handleUserBorrowedBooksList)]);\n}","map":{"version":3,"sources":["/home/deepak/Documents/dk/library-Management-System-HeadX/src/store/home/sagas.js"],"names":["call","all","put","takeLatest","api","libraryManagementAction","handleFetchBookList","requets","payload","response","getBooks","fetchBooksDataSuccess","data","error","fetchBooksDataError","handlefetchBookDetails","fetchBookDetailsSuccess","err","fetchBookDetailsError","addBooksBorrowedRequest","addBooksBorrowedSuccess","addBooksBorrowedError","handleUserBorrowedBooksList","userBorrowedBooksListSuccess","userBorrowedBooksListError","it","gen","expect","next","value","toEqual","done","toBeTruthy","libraryManagementSagas","FETCH_BOOKS_DATA_REQUEST","FETCH_BOOKS_DETAILS_REQUEST","ADD_BOOKS_BORROWED_REQUEST","USER_BORROWED_BOOKS_LIST_REQUEST"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,UAAzB,QAA2C,oBAA3C;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AAEA,SACEC,uBADF,QAEO,WAFP;;AAIA,UAAUC,mBAAV,CAA8BC,OAA9B,EAAuC;AACrC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,OAApB;;AACA,MAAI;AACF,UAAME,QAAQ,GAAG,MAAMT,IAAI,CAACI,GAAG,CAACM,QAAL,EAAeF,OAAf,CAA3B;AACA,UAAMN,GAAG,CAACG,uBAAuB,CAACM,qBAAxB,CAA8CF,QAAQ,CAACG,IAAvD,CAAD,CAAT;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,UAAMX,GAAG,CAACG,uBAAuB,CAACS,mBAAxB,CAA4CD,KAA5C,CAAD,CAAT;AACD;AACF;;AAED,UAAUE,sBAAV,CAAiCR,OAAjC,EAA0C;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,OAApB;;AACA,MAAI;AACF,UAAML,GAAG,CAACG,uBAAuB,CAACW,uBAAxB,CAAgDR,OAAhD,CAAD,CAAT;AACD,GAFD,CAEE,OAAOS,GAAP,EAAY;AACZ,UAAMf,GAAG,CAACG,uBAAuB,CAACa,qBAAxB,CAA8CD,GAA9C,CAAD,CAAT;AACD;AACF;;AAED,UAAUE,uBAAV,CAAkCZ,OAAlC,EAA2C;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,OAApB;;AACD,MAAI;AACH,UAAML,GAAG,CAACG,uBAAuB,CAACe,uBAAxB,CAAgDZ,OAAO,CAACI,IAAxD,CAAD,CAAT;AACC,GAFF,CAEG,OAAOK,GAAP,EAAY;AACZ,UAAMf,GAAG,CAACG,uBAAuB,CAACgB,qBAAxB,CAA8CJ,GAA9C,CAAD,CAAT;AACD;AACF;;AAED,UAAUK,2BAAV,GAAwC;AACrC,MAAI;AACH,UAAMpB,GAAG,CAACG,uBAAuB,CAACkB,4BAAxB,EAAD,CAAT;AACD,GAFA,CAEC,OAAON,GAAP,EAAY;AACZ,UAAMf,GAAG,CAACG,uBAAuB,CAACmB,0BAAxB,CAAmDP,GAAnD,CAAD,CAAT;AACD;AACF;;AAEDQ,EAAE,CAAC,kCAAD,EAAqC,MAAM;AAC3C,QAAMC,GAAG,GAAGpB,mBAAmB,EAA/B;AAEAqB,EAAAA,MAAM,CAACD,GAAG,CAACE,IAAJ,GAAWC,KAAZ,CAAN,CAAyBC,OAAzB,CAAkCzB,uBAAuB,CAACM,qBAAxB,EAAlC;AACAgB,EAAAA,MAAM,CAACD,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBC,KAAjB,CAAN,CAA8BC,OAA9B,CAAsC5B,GAAG,CAACG,uBAAuB,CAACS,mBAAxB,EAAD,CAAzC;AACAa,EAAAA,MAAM,CAACD,GAAG,CAACE,IAAJ,GAAWG,IAAZ,CAAN,CAAwBC,UAAxB;AACD,CANC,CAAF;AAQA,OAAO,UAAUC,sBAAV,GAAmC;AACxC,QAAMhC,GAAG,CAAC,CACR,MAAME,UAAU,CAACE,uBAAuB,CAAC6B,wBAAzB,EAAmD5B,mBAAnD,CADR,EAER,MAAMH,UAAU,CAACE,uBAAuB,CAAC8B,2BAAzB,EAAsDpB,sBAAtD,CAFR,EAGR,MAAMZ,UAAU,CAACE,uBAAuB,CAAC+B,0BAAzB,EAAqDjB,uBAArD,CAHR,EAIR,MAAMhB,UAAU,CAACE,uBAAuB,CAACgC,gCAAzB,EAA2Df,2BAA3D,CAJR,CAAD,CAAT;AAMD","sourcesContent":["import { call, all, put, takeLatest } from 'redux-saga/effects';\nimport api from '../../services/index';\n\nimport {\n  libraryManagementAction\n} from './actions';\n\nfunction* handleFetchBookList(requets) {\n  const { payload } = requets;\n  try {\n    const response = yield call(api.getBooks, payload);\n    yield put(libraryManagementAction.fetchBooksDataSuccess(response.data));\n  } catch (error) {\n    yield put(libraryManagementAction.fetchBooksDataError(error));\n  }\n}\n\nfunction* handlefetchBookDetails(requets) {\n  const { payload } = requets;\n  try {\n    yield put(libraryManagementAction.fetchBookDetailsSuccess(payload));\n  } catch (err) {\n    yield put(libraryManagementAction.fetchBookDetailsError(err));\n  }\n}\n\nfunction* addBooksBorrowedRequest(requets) {\n  const { payload } = requets;\n try {\n  yield put(libraryManagementAction.addBooksBorrowedSuccess(payload.data));\n  } catch (err) {\n    yield put(libraryManagementAction.addBooksBorrowedError(err));\n  }\n}\n\nfunction* handleUserBorrowedBooksList() {\n   try {\n    yield put(libraryManagementAction.userBorrowedBooksListSuccess());\n  } catch (err) {\n    yield put(libraryManagementAction.userBorrowedBooksListError(err));\n  }\n}\n\nit('should fail if not authenticated', () => {\n  const gen = handleFetchBookList();\n\n  expect(gen.next().value).toEqual((libraryManagementAction.fetchBooksDataSuccess()));\n  expect(gen.next(false).value).toEqual(put(libraryManagementAction.fetchBooksDataError()));\n  expect(gen.next().done).toBeTruthy();\n});\n\nexport function* libraryManagementSagas() {\n  yield all([\n    yield takeLatest(libraryManagementAction.FETCH_BOOKS_DATA_REQUEST, handleFetchBookList),\n    yield takeLatest(libraryManagementAction.FETCH_BOOKS_DETAILS_REQUEST, handlefetchBookDetails),\n    yield takeLatest(libraryManagementAction.ADD_BOOKS_BORROWED_REQUEST, addBooksBorrowedRequest),\n    yield takeLatest(libraryManagementAction.USER_BORROWED_BOOKS_LIST_REQUEST, handleUserBorrowedBooksList)\n  ]);\n}"]},"metadata":{},"sourceType":"module"}