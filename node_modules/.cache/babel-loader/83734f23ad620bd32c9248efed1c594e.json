{"ast":null,"code":"import { libraryManagementAction } from './actions';\nconst initialState = {\n  loading: true,\n  libraryData: [],\n  borrowedBooks: [],\n  myBooks: []\n};\n\nconst libraryManagementReducer = (state = initialState, action) => {\n  // fecth initial data from search //\n  switch (action.type) {\n    case libraryManagementAction.FETCH_BOOKS_DATA_REQUEST:\n      {\n        return { ...state\n        };\n      }\n\n    case libraryManagementAction.FETCH_BOOKS_DATA_SUCCESS:\n      {\n        let data = Object.assign([], action.payload);\n        !!data && data.items.forEach((element, index) => {\n          element.key = index;\n        });\n        state.loading = false;\n        state.libraryData = data;\n        return state;\n      }\n    // update vote count //\n\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_REQUEST:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_SUCCESS:\n      {\n        let data = Object.assign([], state.libraryData && state.libraryData.items);\n        let BookKey = action.payload.key;\n        const bookDetails = data.filter(data => data.key.toString().includes(BookKey));\n        state.loading = false;\n        state.libraryData = bookDetails;\n        return state;\n      }\n    // update Presist data in redux state//\n\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_REQUEST:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_SUCCESS:\n      {\n        state.loading = false; // state.hackerNewsData = action.hackerNewsData;\n        // state.hackerNewsGraphData = action.hackerNewsData.hackerNewsGraphData;\n\n        return state;\n      }\n    // fecth user details //\n\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_REQUEST:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_SUCCESS:\n      {\n        let data = Object.assign([], state.libraryData && state.libraryData.items);\n        let BookKey = action.payload.key;\n        const bookDetails = data.filter(data => data.key.toString().includes(BookKey));\n        console.log(\"@63945634785634785\", bookDetails);\n        myBooks.concat(bookDetails);\n        const length = myBooks.length;\n        console.log(\"@63945634785634785\", myBooks, length);\n        const borrowedBooks = myBooks.length > 0 ? myBooks.splice(1, length) : myBooks;\n        state.borrowedBooks = borrowedBooks;\n        state.loading = false;\n        return state;\n      }\n\n    case libraryManagementAction.FETCH_BOOKS_DATA_ERROR:\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_ERROR:\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_ERROR:\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_ERROR:\n      {\n        return { ...state,\n          loading: true,\n          errors: ''\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default libraryManagementReducer;","map":{"version":3,"sources":["/home/deepak/Documents/dk/HackerNewsReactHooks/src/store/home/reducer.js"],"names":["libraryManagementAction","initialState","loading","libraryData","borrowedBooks","myBooks","libraryManagementReducer","state","action","type","FETCH_BOOKS_DATA_REQUEST","FETCH_BOOKS_DATA_SUCCESS","data","Object","assign","payload","items","forEach","element","index","key","FETCH_BOOKS_DETAILS_REQUEST","FETCH_BOOKS_DETAILS_SUCCESS","BookKey","bookDetails","filter","toString","includes","FETCH_BOOKS_EMPTYLIST_REQUEST","FETCH_BOOKS_EMPTYLIST_SUCCESS","USER_BORROWED_BOOKS_LIST_REQUEST","USER_BORROWED_BOOKS_LIST_SUCCESS","console","log","concat","length","splice","FETCH_BOOKS_DATA_ERROR","FETCH_BOOKS_DETAILS_ERROR","FETCH_BOOKS_EMPTYLIST_ERROR","USER_BORROWED_BOOKS_LIST_ERROR","errors"],"mappings":"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","sourcesContent":["import { libraryManagementAction } from './actions';\n\nconst initialState = {\n  loading: true,\n  libraryData: [],\n  borrowedBooks: [],\n  myBooks :[]   \n};\n\n\n\nconst libraryManagementReducer = (state = initialState, action) => {\n\n  // fecth initial data from search //\n  switch (action.type) {\n    case libraryManagementAction.FETCH_BOOKS_DATA_REQUEST: {\n      return { ...state };\n    }\n\n    case libraryManagementAction.FETCH_BOOKS_DATA_SUCCESS: {\n      let data = Object.assign([], action.payload);\n      !!data && data.items.forEach((element, index) => {\n        element.key = index;\n      });\n      state.loading = false;\n      state.libraryData = data;\n      return state;\n    }\n\n    // update vote count //\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_REQUEST: {\n      return { ...state, loading: true };\n    }\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_SUCCESS: {\n      let data = Object.assign([],state.libraryData &&state.libraryData.items  );\n      let BookKey = action.payload.key;\n      const bookDetails = data.filter(data =>\n        data.key.toString().includes(BookKey)\n      );\n      state.loading = false;\n      state.libraryData= bookDetails;\n      return state;\n    }\n\n\n    // update Presist data in redux state//\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_REQUEST: {\n      return { ...state, loading: true };\n    }\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_SUCCESS: {\n      state.loading = false;\n      // state.hackerNewsData = action.hackerNewsData;\n      // state.hackerNewsGraphData = action.hackerNewsData.hackerNewsGraphData;\n      return state;\n    }\n\n\n\n    // fecth user details //\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_REQUEST: {\n      return { ...state, loading: true };\n    }\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_SUCCESS: {\n      let data = Object.assign([],state.libraryData && state.libraryData.items);\n      let BookKey = action.payload.key;\n      const bookDetails = data.filter(data =>\n        data.key.toString().includes(BookKey)\n      );\n      console.log(\"@63945634785634785\",bookDetails);\n      myBooks.concat(bookDetails);\n      const length = myBooks.length;\n      console.log(\"@63945634785634785\", myBooks , length);\n      const borrowedBooks =  myBooks.length > 0 ? myBooks.splice(1, length): myBooks\n      state.borrowedBooks = borrowedBooks;\n      state.loading = false;\n      return state;\n    }\n\n\n    case libraryManagementAction.FETCH_BOOKS_DATA_ERROR:\n    case libraryManagementAction.FETCH_BOOKS_DETAILS_ERROR:\n    case libraryManagementAction.FETCH_BOOKS_EMPTYLIST_ERROR:\n    case libraryManagementAction.USER_BORROWED_BOOKS_LIST_ERROR:\n      {\n        return {\n          ...state,\n          loading: true,\n          errors: ''\n        };\n      }\n    default:\n      return state;\n  }\n};\n\nexport default libraryManagementReducer;\n"]},"metadata":{},"sourceType":"module"}